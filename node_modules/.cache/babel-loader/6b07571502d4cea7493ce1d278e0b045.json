{"ast":null,"code":"import _slicedToArray from\"/Users/mactamong/Desktop/ygnoh_homepage_v2/\\u1106\\u116E\\u110C\\u1166/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";export var WorkPageId=\"page-work\";export var AboutPageId=\"page-about\";export var HomeId=\"page-home\";export var Page;(function(Page){Page[\"About\"]=\"about\";Page[\"Work\"]=\"work\";Page[\"Home\"]=\"home\";})(Page||(Page={}));var pageIds=[HomeId,WorkPageId,AboutPageId];export var useScroll=function useScroll(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var scrollHandler=function scrollHandler(){var _document$scrollingEl;var documentTop=(_document$scrollingEl=document.scrollingElement)===null||_document$scrollingEl===void 0?void 0:_document$scrollingEl.scrollTop;console.log(documentTop);var pages=pageIds.map(function(page){return document.getElementById(page);});var newPage=\"\";pages.forEach(function(page){if(page){var top=page.offsetTop;var height=page.clientHeight;if(top<documentTop&&top+height>documentTop){newPage=page.id;}}});setPage(newPage);};useEffect(function(){setTimeout(function(){scrollHandler();},100);document.addEventListener(\"scroll\",scrollHandler);return function(){document.removeEventListener(\"scroll\",function(){});};},[]);return page;};","map":{"version":3,"sources":["/Users/mactamong/Desktop/ygnoh_homepage_v2/무제/src/utils/useScroll.ts"],"names":["useEffect","useState","WorkPageId","AboutPageId","HomeId","Page","pageIds","useScroll","page","setPage","scrollHandler","documentTop","document","scrollingElement","scrollTop","console","log","pages","map","getElementById","newPage","forEach","top","offsetTop","height","clientHeight","id","setTimeout","addEventListener","removeEventListener"],"mappings":"yJAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,WAAnB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,YAApB,CACP,MAAO,IAAMC,CAAAA,MAAM,CAAG,WAAf,CAEP,UAAYC,CAAAA,IAAZ,C,UAAYA,I,EAAAA,I,kBAAAA,I,gBAAAA,I,mBAAAA,I,GAAAA,I,MAOZ,GAAMC,CAAAA,OAAO,CAAG,CAACF,MAAD,CAASF,UAAT,CAAqBC,WAArB,CAAhB,CAEA,MAAO,IAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3B,cAAwBN,QAAQ,CAAS,EAAT,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,2BACxB,GAAMC,CAAAA,WAAW,wBAAGC,QAAQ,CAACC,gBAAZ,gDAAG,sBAA2BC,SAA/C,CACAC,OAAO,CAACC,GAAR,CAAYL,WAAZ,EACA,GAAMM,CAAAA,KAAK,CAAGX,OAAO,CAACY,GAAR,CAAY,SAACV,IAAD,QAAUI,CAAAA,QAAQ,CAACO,cAAT,CAAwBX,IAAxB,CAAV,EAAZ,CAAd,CACA,GAAIY,CAAAA,OAAO,CAAG,EAAd,CAEAH,KAAK,CAACI,OAAN,CAAc,SAACb,IAAD,CAAU,CACpB,GAAIA,IAAJ,CAAU,CACN,GAAMc,CAAAA,GAAG,CAAGd,IAAI,CAACe,SAAjB,CACA,GAAMC,CAAAA,MAAM,CAAGhB,IAAI,CAACiB,YAApB,CAEA,GAAIH,GAAG,CAAGX,WAAN,EAAqBW,GAAG,CAAGE,MAAN,CAAeb,WAAxC,CAAqD,CACjDS,OAAO,CAAGZ,IAAI,CAACkB,EAAf,CACH,CACJ,CACJ,CATD,EAWAjB,OAAO,CAACW,OAAD,CAAP,CACH,CAlBD,CAoBApB,SAAS,CAAC,UAAM,CACZ2B,UAAU,CAAC,UAAM,CACbjB,aAAa,GAChB,CAFS,CAEP,GAFO,CAAV,CAIAE,QAAQ,CAACgB,gBAAT,CAA0B,QAA1B,CAAoClB,aAApC,EAEA,MAAO,WAAM,CACTE,QAAQ,CAACiB,mBAAT,CAA6B,QAA7B,CAAuC,UAAM,CAAE,CAA/C,EACH,CAFD,CAGH,CAVQ,CAUN,EAVM,CAAT,CAYA,MAAOrB,CAAAA,IAAP,CACH,CApCM","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport const WorkPageId = \"page-work\";\nexport const AboutPageId = \"page-about\";\nexport const HomeId = \"page-home\";\n\nexport enum Page {\n   \n    About = \"about\",\n    Work = \"work\",\n    Home = \"home\",\n}\n\nconst pageIds = [HomeId, WorkPageId, AboutPageId];\n\nexport const useScroll = () => {\n    const [page, setPage] = useState<string>(\"\");\n\n    const scrollHandler = () => {\n        const documentTop = document.scrollingElement?.scrollTop!;\n        console.log(documentTop);\n        const pages = pageIds.map((page) => document.getElementById(page));\n        let newPage = \"\";\n\n        pages.forEach((page) => {\n            if (page) {\n                const top = page.offsetTop;\n                const height = page.clientHeight;\n\n                if (top < documentTop && top + height > documentTop) {\n                    newPage = page.id;\n                }\n            }\n        });\n\n        setPage(newPage);\n    };\n\n    useEffect(() => {\n        setTimeout(() => {\n            scrollHandler();\n        }, 100);\n\n        document.addEventListener(\"scroll\", scrollHandler);\n\n        return () => {\n            document.removeEventListener(\"scroll\", () => {});\n        };\n    }, []);\n\n    return page;\n};\n"]},"metadata":{},"sourceType":"module"}