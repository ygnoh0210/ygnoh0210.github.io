{"ast":null,"code":"import _toConsumableArray from\"/Users/mactamong/Desktop/ygnoh_homepage_v2/\\u1106\\u116E\\u110C\\u1166/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/mactamong/Desktop/ygnoh_homepage_v2/\\u1106\\u116E\\u110C\\u1166/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useMemo}from\"react\";import{Box,Button,AccordionButton,AccordionPanel,Text,Flex,UnorderedList}from\"@chakra-ui/react\";import{SectionTitle}from\"pages/about/common/title/Title\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Expandable=function Expandable(_ref){var expanded=_ref.expanded,id=_ref.id,idx=_ref.idx,title=_ref.title,subTitle=_ref.subTitle,date=_ref.date,content=_ref.content,onChange=_ref.onChange;var isExpanded=useMemo(function(){return expanded.includes(idx);},[expanded,idx]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOverflowing=_useState2[0],setIsOverflowing=_useState2[1];var showSeeMoreBtn=useMemo(function(){return content.length>1&&!isExpanded||!isExpanded&&isOverflowing;},[isOverflowing,isExpanded,content]);useEffect(function(){var firstPointId=\"first-point-\".concat(id);var element=document.getElementById(firstPointId);if(element){var _element$parentElemen;if(element.scrollWidth>=((_element$parentElemen=element.parentElement)===null||_element$parentElemen===void 0?void 0:_element$parentElemen.scrollWidth)){setIsOverflowing(true);}else{setIsOverflowing(false);}}},[id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AccordionButton,{as:Box,p:\"0\",disabled:true,onClick:undefined,_hover:{bg:\"transparent\"},overflow:\"hidden\",display:\"block\",children:[/*#__PURE__*/_jsx(SectionTitle,{title:title}),/*#__PURE__*/_jsx(Text,{\"data-aos\":\"fade\",children:subTitle}),/*#__PURE__*/_jsx(Text,{color:\"gray\",\"data-aos\":\"fade-up\",fontSize:\"sm\",fontWeight:\"semibold\",children:date}),/*#__PURE__*/_jsxs(Flex,{pt:\"2\",justifyContent:\"space-between\",\"data-aos\":\"fade\",children:[!isExpanded?/*#__PURE__*/_jsx(Text,{id:\"first-point-\".concat(id),isTruncated:!expanded.includes(idx),children:content[0]}):/*#__PURE__*/_jsx(UnorderedList,{listStylePosition:\"outside\",pl:\"1\",children:/*#__PURE__*/_jsx(Text,{as:\"li\",isTruncated:!expanded.includes(idx),children:content[0]})}),showSeeMoreBtn&&/*#__PURE__*/_jsx(Button,{flexShrink:0,id:\"see-more-\".concat(id),size:\"xs\",variant:\"link\",colorScheme:\"gray\",opacity:\"0.8\",onClick:function onClick(){if(!expanded.includes(idx)){onChange([].concat(_toConsumableArray(expanded),[idx]));}else{var newExpanded=expanded.filter(function(e){return e!==idx;});onChange(newExpanded);}},children:\"See more\"})]})]}),/*#__PURE__*/_jsxs(AccordionPanel,{p:\"0\",pl:\"1\",children:[/*#__PURE__*/_jsx(UnorderedList,{listStylePosition:\"outside\",children:content.slice(1).map(function(cont,idx){return/*#__PURE__*/_jsx(Text,{as:\"li\",children:cont},\"\".concat(title,\"-cont-\").concat(idx));})}),expanded.includes(idx)&&/*#__PURE__*/_jsx(Flex,{justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Button,{id:\"see-less-\".concat(id),size:\"xs\",variant:\"link\",colorScheme:\"gray\",opacity:\"0.7\",onClick:function onClick(){var newExpanded=expanded.filter(function(e){return e!==idx;});onChange(newExpanded);},children:\"See less\"})})]})]});};","map":{"version":3,"sources":["/Users/mactamong/Desktop/ygnoh_homepage_v2/무제/src/pages/about/common/expandable/Expandable.tsx"],"names":["useEffect","useState","useMemo","Box","Button","AccordionButton","AccordionPanel","Text","Flex","UnorderedList","SectionTitle","Expandable","expanded","id","idx","title","subTitle","date","content","onChange","isExpanded","includes","isOverflowing","setIsOverflowing","showSeeMoreBtn","length","firstPointId","element","document","getElementById","scrollWidth","parentElement","undefined","bg","newExpanded","filter","e","slice","map","cont"],"mappings":"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","sourcesContent":["import { FC, useEffect, useState, useMemo } from \"react\";\n\nimport { Box, Button, AccordionButton, AccordionPanel, Text, Flex, UnorderedList } from \"@chakra-ui/react\";\nimport { SectionTitle } from \"pages/about/common/title/Title\";\n\ninterface Props {\n    expanded: number[];\n    idx: number;\n    onChange: (expanded: any) => void;\n    title: string;\n    subTitle: string;\n    date: string;\n    content: string[];\n    id: string;\n}\n\nexport const Expandable: FC<Props> = ({ expanded, id, idx, title, subTitle, date, content, onChange }) => {\n    const isExpanded = useMemo(() => expanded.includes(idx), [expanded, idx]);\n    const [isOverflowing, setIsOverflowing] = useState<boolean>(false);\n    const showSeeMoreBtn = useMemo(\n        () => (content.length > 1 && !isExpanded) || (!isExpanded && isOverflowing),\n        [isOverflowing, isExpanded, content],\n    );\n\n    useEffect(() => {\n        const firstPointId = `first-point-${id}`;\n        const element = document.getElementById(firstPointId);\n\n        if (element) {\n            if (element.scrollWidth >= element.parentElement?.scrollWidth!) {\n                setIsOverflowing(true);\n            } else {\n                setIsOverflowing(false);\n            }\n        }\n    }, [id]);\n\n    return (\n        <>\n            <AccordionButton\n                as={Box}\n                p=\"0\"\n                disabled\n                onClick={undefined}\n                _hover={{ bg: \"transparent\" }}\n                overflow=\"hidden\"\n                display=\"block\"\n            >\n                <SectionTitle title={title}  />\n                <Text data-aos=\"fade\">{subTitle}</Text>\n                <Text color=\"gray\" data-aos=\"fade-up\" fontSize=\"sm\" fontWeight=\"semibold\">\n                    {date}\n                </Text>\n                <Flex pt=\"2\" justifyContent=\"space-between\" data-aos=\"fade\">\n                    {!isExpanded ? (\n                        <Text id={`first-point-${id}`} isTruncated={!expanded.includes(idx)}>\n                            {content[0]}\n                        </Text>\n                    ) : (\n                        <UnorderedList listStylePosition=\"outside\" pl=\"1\">\n                            <Text as=\"li\" isTruncated={!expanded.includes(idx)}>\n                                {content[0]}\n                            </Text>\n                        </UnorderedList>\n                    )}\n                    {showSeeMoreBtn && (\n                        <Button\n                            flexShrink={0}\n                            id={`see-more-${id}`}\n                            size=\"xs\"\n                            variant=\"link\"\n                            colorScheme=\"gray\"\n                            opacity=\"0.8\"\n                            onClick={() => {\n                                if (!expanded.includes(idx)) {\n                                    onChange([...expanded, idx]);\n                                } else {\n                                    const newExpanded = expanded.filter((e) => e !== idx);\n                                    onChange(newExpanded);\n                                }\n                            }}\n                        >\n                            See more\n                        </Button>\n                    )}\n                </Flex>\n            </AccordionButton>\n            <AccordionPanel p=\"0\" pl=\"1\">\n                <UnorderedList listStylePosition=\"outside\">\n                    {content.slice(1).map((cont, idx) => (\n                        <Text as=\"li\" key={`${title}-cont-${idx}`}>\n                            {cont}\n                        </Text>\n                    ))}\n                </UnorderedList>\n                {expanded.includes(idx) && (\n                    <Flex justifyContent=\"flex-end\">\n                        <Button\n                            id={`see-less-${id}`}\n                            size=\"xs\"\n                            variant=\"link\"\n                            colorScheme=\"gray\"\n                            opacity=\"0.7\"\n                            onClick={() => {\n                                const newExpanded = expanded.filter((e) => e !== idx);\n                                onChange(newExpanded);\n                            }}\n                        >\n                            See less\n                        </Button>\n                    </Flex>\n                )}\n            </AccordionPanel>\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}